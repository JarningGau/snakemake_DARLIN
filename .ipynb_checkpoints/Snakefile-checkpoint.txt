configfile: "config.yaml"


rule download_fastq:
	input:
		project_name=config["project_name"]
		project_ID=config["project_ID"]
	output:
		data_dir=config["data_dir"]
	shell:
		mkdir -p {input.data_dir}
		bs download project {input.project_name} --id {input.project_ID} -o {output.data_dir}
		mkdir -p {output.data_dir}/raw_fastq
		mv {output.data_dir}/*/*.fastq.gz {output.data_dir}/raw_fastq
		rm -r {output.data_dir}/*_ds.*